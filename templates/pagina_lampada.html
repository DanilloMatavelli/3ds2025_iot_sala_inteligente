<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PÃ¡gina LÃ¢mpada</title>

    <link rel="stylesheet" href="/styles/pagina_lampada.css">


    <script>

        function atualizarEstadoLampada() {
            fetch('/get/estado_lampada')
            .then(response => response.json())
            .then(data => {
                const estado = data.ESTADO_LAMPADA;
                const statusDiv = document.querySelector('.status');
                statusDiv.innerHTML = `
                <div id="icone" class="status-icon">ðŸ’¡</div>
                <div>${estado}</div>
                `;
                if (estado === "LIGADO") {
                document.getElementById('icone').style.color = "yellow";
                } else {
                document.getElementById('icone').style.color = "gray";
                }
            })
            .catch(erro => console.error("Erro ao buscar estado da lÃ¢mpada:", erro));
        }

        // Atualiza o estado a cada 1 segundo
        setInterval(atualizarEstadoLampada, 1000);

        // Chamada inicial
        atualizarEstadoLampada();

    </script>

</head>
<body class="container-body">
    
    <div class="container">

        <h1>Status da Luz da Sala</h1>

        <div class="status">

          <div id="icone" class="status-icon">ðŸ’¡</div>

          

        </div>

    </div>

    <a href="./pagina_led.html"><button class="btn ir-led">Ir ao LED</button></a>

     
    
</body>
</html>